# Existing dataset controls (sidebar)
show_all = st.sidebar.checkbox(
    "Show all datasets",
    value=False,
    key="show_all_datasets",      # NEW
)






=========================================================================================================================================================================
=========================================================================================================================================================================

# === Visual analytics toggles ===
st.sidebar.subheader("Root-Cause Visuals")

show_biplot = st.sidebar.checkbox(
    "Show PCA driver arrows",
    value=True,
    key="show_biplot",            # NEW
)

pca_arrow_features = st.sidebar.multiselect(
    "PCA driver arrows (numeric features)",
    PCA_FEATURES,
    default=PCA_FEATURES,
    key="pca_arrow_features",     # (optional but nice to be explicit)
)

show_segment_compare = st.sidebar.checkbox(
    "Show segment comparison (z-scores / % share)",
    value=True,
    key="show_segment_compare",   # NEW
)

show_selection_why = st.sidebar.checkbox(
    "Show 'Why this run?' panel",
    value=True,
    key="show_selection_why",     # NEW
)



=========================================================================================================================================================================
=========================================================================================================================================================================



=========================================================================================================================================================================
=========================================================================================================================================================================


=========================================================================================================================================================================
=========================================================================================================================================================================



=========================================================================================================================================================================
=========================================================================================================================================================================




=========================================================================================================================================================================
=========================================================================================================================================================================



=========================================================================================================================================================================
=========================================================================================================================================================================


