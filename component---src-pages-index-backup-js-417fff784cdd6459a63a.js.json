{"version":3,"sources":["webpack:///./src/components/Modal.js","webpack:///./src/components/MapChart.js","webpack:///./src/pages/index_backup.js"],"names":["rand","Math","round","random","getModalStyle","top","left","transform","open","handleClose","data","modalStyle","React","useState","body","StyledDiv","style","id","name","unemployment_rate","Modal","onClose","e","aria-labelledby","aria-describedby","styled","div","colorScale","scaleQuantize","domain","range","useStaticQuery","allUnemploymentByCountyCsv","nodes","openModal","setOpenModal","modalInfo","setModalInfo","projection","geography","geographies","map","geo","cur","find","s","key","rsmKey","fill","onClick","setModalData","IndexPage","title","MapChart"],"mappings":"yYAIA,IAAMA,EAAO,kBAAMC,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,IAE9CC,EAAgB,WAClB,IAAMC,EAAM,GAAKL,IACXM,EAAO,GAAKN,IAElB,MAAO,CACLK,IAAQA,EAAL,IACHC,KAASA,EAAL,IACJC,UAAU,cAAeF,EAAhB,OAA0BC,EAA1B,OAKA,cAAgC,IAA9BE,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,YAAaC,EAAU,EAAVA,KAE3BC,EAAcC,IAAMC,SAAST,GAFQ,GAGtCU,EACJ,kBAACC,EAAD,CAAWC,MAAOL,GAChB,wBAAIM,GAAG,sBAAP,qBACA,yBAAKA,GAAG,4BAAR,aACaP,EAAKO,IAElB,yBAAKA,GAAG,4BAAR,gBACgBP,EAAKQ,MAErB,yBAAKD,GAAG,4BAAR,sBACsBP,EAAKS,oBAK/B,OACI,kBAACC,EAAA,EAAD,CACEZ,KAAMA,EACNa,QAAS,SAAAC,GAAC,OAAEb,GAAY,IACxBc,kBAAgB,qBAChBC,mBAAiB,4BAEhBV,IAKHC,EAAYU,IAAOC,IAAV,KC1CA,aACf,IAEMC,EAAaC,cAChBC,OAAO,CAAC,EAAG,KACXC,MAAM,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAgBIpB,EAZYqB,yBAAe,cAYRC,2BAA2BC,MA9BjC,EA+BcpB,oBAAS,GAAnCqB,EA/BY,KA+BFC,EA/BE,OAgCetB,mBAAS,IAApCuB,EAhCY,KAgCDC,EAhCC,KAqCnB,OACI,kBAAC,gBAAD,CAAeC,WAAW,gBACxB,kBAAC,cAAD,CAAaC,UAtCN,8DAuCJ,qBAAGC,YACUC,KAAI,SAAAC,GACd,IAAMC,EAAMjC,EAAKkC,MAAK,SAAAC,GAAC,OAAIA,EAAE5B,KAAOyB,EAAIzB,MACxC,OACE,kBAAC,YAAD,CACE6B,IAAKJ,EAAIK,OACTR,UAAWG,EACXM,KAAMrB,EAAWgB,EAAMA,EAAIxB,kBAAoB,QAC/C8B,QAAS,SAAA3B,GAAC,OAfL,SAACc,GACpBD,GAAa,GACbE,EAAaD,GAaac,CAAaP,YAMnC,kBAAC,EAAD,CAAOnC,KAAM0B,EAAWxB,KAAM0B,EAAW3B,YAAa0B,MC/C/CgB,UAPG,kBAChB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,MAAM,6CACX,kBAACC,EAAD","file":"component---src-pages-index-backup-js-417fff784cdd6459a63a.js","sourcesContent":["import React from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport styled from '@emotion/styled'\r\n\r\nconst rand = () => Math.round(Math.random() * 20) - 10\r\n  \r\nconst getModalStyle = () => {\r\n    const top = 50 + rand();\r\n    const left = 50 + rand();\r\n  \r\n    return {\r\n      top: `${top}%`,\r\n      left: `${left}%`,\r\n      transform: `translate(-${top}%, -${left}%)`,\r\n    }\r\n  }\r\n\r\n\r\nexport default ({open, handleClose, data}) => {\r\n\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const body = (\r\n    <StyledDiv style={modalStyle}>\r\n      <h2 id=\"simple-modal-title\">Unemployment Data</h2>\r\n      <div id=\"simple-modal-description\">\r\n        Zip Code: {data.id}\r\n      </div>\r\n      <div id=\"simple-modal-description\">\r\n        County Name: {data.name}\r\n      </div>\r\n      <div id=\"simple-modal-description\">\r\n        Unemployment Rate: {data.unemployment_rate}\r\n      </div>\r\n    </StyledDiv>\r\n  );\r\n\r\n  return (\r\n      <Modal\r\n        open={open}\r\n        onClose={e=>handleClose(false)}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n  );\r\n}\r\n\r\nconst StyledDiv = styled.div`\r\nposition: absolute;\r\nwidth: 400;\r\nbackground-color: white;\r\nborder: 2px solid #000;\r\npadding:12px; \r\n`","import React, {useState} from \"react\";\r\nimport { ComposableMap, Geographies, Geography } from \"react-simple-maps\";\r\nimport { scaleQuantize } from \"d3-scale\";\r\nimport {useStaticQuery, graphql } from 'gatsby'\r\nimport Modal from \"./Modal\";\r\n\r\nexport default () => {\r\nconst geoUrl = \"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json\";\r\n\r\nconst colorScale = scaleQuantize()\r\n  .domain([1, 10])\r\n  .range([\r\n    \"#ffedea\",\r\n    \"#ffcec5\",\r\n    \"#ffad9f\",\r\n    \"#ff8a75\",\r\n    \"#ff5533\",\r\n    \"#e2492d\",\r\n    \"#be3d26\",\r\n    \"#9a311f\",\r\n    \"#782618\"\r\n  ]);\r\n\r\n\r\nconst graphQLData = useStaticQuery(graphql`\r\n    query UnemploymentDataQuery {\r\n        allUnemploymentByCountyCsv {\r\n            nodes {\r\n              id\r\n              unemployment_rate\r\n              year\r\n              name\r\n            }\r\n          }\r\n    }\r\n  `)\r\n  const data = graphQLData.allUnemploymentByCountyCsv.nodes  \r\n  const [openModal,setOpenModal] = useState(false)\r\n  const [modalInfo, setModalInfo] = useState('')\r\n  const setModalData = (modalInfo) => {\r\n    setOpenModal(true)\r\n    setModalInfo(modalInfo)\r\n  }\r\n  return (\r\n      <ComposableMap projection=\"geoAlbersUsa\">\r\n        <Geographies geography={geoUrl}>\r\n          {({ geographies }) =>\r\n            geographies.map(geo => {\r\n              const cur = data.find(s => s.id === geo.id);\r\n              return (\r\n                <Geography\r\n                  key={geo.rsmKey}\r\n                  geography={geo}\r\n                  fill={colorScale(cur ? cur.unemployment_rate : \"#EEE\")}\r\n                  onClick={e=>setModalData(cur)}\r\n                />\r\n              )\r\n            })\r\n        }\r\n        </Geographies> \r\n        <Modal open={openModal} data={modalInfo} handleClose={setOpenModal}/>\r\n    </ComposableMap>   \r\n  )\r\n}","import React from \"react\"\r\n\r\nimport Layout from \"../components/layout\"\r\nimport SEO from \"../components/seo\"\r\nimport MapChart from \"../components/MapChart\";\r\n\r\nconst IndexPage = () => (\r\n  <Layout>\r\n    <SEO title=\"Climate Change Geographic Recommendation\" />\r\n    <MapChart/>\r\n  </Layout>\r\n)\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}